name: Build and Deploy
on: [push]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🛎️
        uses: actions/checkout@v2.3.1

      - name: Install and Build 🔧 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.
        run: |
          npm install
          npm run bundle
          
      - name: GitHub Pages
          # You may pin to the exact commit or the version.
          # uses: crazy-max/ghaction-github-pages@db4476a01402e1a7ce05f41832040eef16d14925
        uses: crazy-max/ghaction-github-pages@v2.5.0
        with:
          # Git domain (default github.com)
          domain: vsorokin.com
          # GitHub repository where assets will be deployed (default $GITHUB_REPOSITORY)
          # Git branch where assets will be deployed
          target_branch: gh-pages
          # Create incremental commit instead of doing push force
          keep_history: true
          # Allow an empty commit to be created
          # Build directory to deploy
          build_dir: bundled
          # The committer name and email address
          # The author name and email address
          author: Vlad Sorokin
          verbose: true
